(function(f){var d={id:"flashMsg",displayTime:5000,opacity:0.8};var c=null;var g=null;var e=null;var b=0;var a={setup:function(h){d=f.extend({},d,h);c=f('<div id="'+d.id+'" class="flashMsg"><div class="container"></div></div>').appendTo(document.body);g=f(".container",c);return this},show:function(i){var h=f("<p/>").html(i);if(e){clearTimeout(e);h.hide().appendTo(g);b+=200;setTimeout(function(){h.slideToggle()},b)}else{h.appendTo(g);c.show().animate({opacity:d.opacity},200,function(){f(window).mousemove(a.hide).click(a.hide).keypress(a.hide)})}e=setTimeout(a.hide,d.displayTime)},hide:function(){clearTimeout(e);e=null;f(window).unbind("mousemove",a.hide).unbind("click",a.hide).unbind("keypress",a.hide);c.animate({opacity:0},500,function(){c.hide();g.html("")})}};f.flashMsg=function(h){if(!c&&h!="setup"){a.setup({})}var i=a[h];if(!i){return a.show(h)}return i.apply(this,Array.prototype.slice.call(arguments,1))}})(jQuery);